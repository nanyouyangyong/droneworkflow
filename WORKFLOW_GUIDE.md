# 工作流画布操作指南

## 基本操作

### 1. 添加节点
- **拖拽添加**：从左侧节点库拖拽节点到画布
- **点击选择**：点击节点库中的节点类型，然后点击画布添加

### 2. 编辑节点
- **双击编辑**：双击画布上的节点打开参数编辑面板
- **右键编辑**：右键点击节点，选择"编辑节点"

### 3. 连接节点
- **拖拽连接**：从一个节点的连接点拖拽到另一个节点
- **自动连接**：连接后会自动创建边

### 4. 编辑连接条件
- **双击编辑**：双击连接线打开条件编辑面板
- **右键编辑**：右键点击连接线，选择"编辑条件"

### 5. 删除元素
- **键盘删除**：选中节点或连接线，按 `Delete` 或 `Backspace` 键
- **右键删除**：右键点击节点或连接线，选择"删除"

## 节点类型说明

### 基础操作
- **起飞**：设置起飞高度和速度
- **降落**：无人机降落操作
- **悬停**：设置悬停时间和高度

### 导航
- **飞行**：设置目标坐标、高度和速度

### 任务载荷
- **拍照**：设置照片质量和数量
- **录像**：设置录像时长和分辨率

### 安全检查
- **电量检查**：设置低电量和临界电量阈值
- **避障**：启用避障系统
- **返航**：自动返回起始点

### 控制流程
- **条件判断**：设置条件类型和条件值

## 连接条件

连接线可以设置执行条件，支持：
- 电量条件：`battery > 30`
- 障碍物检测：`obstacle_detected == false`
- 任务完成：`mission_complete == true`
- 自定义条件：任意有效的JavaScript表达式

## 快捷键

- `Delete` / `Backspace`：删除选中的节点或连接
- `Ctrl+Z`：撤销操作（浏览器默认）
- `Ctrl+Y`：重做操作（浏览器默认）

## 提示

1. **工作流自动保存**：所有编辑操作会自动同步到工作流数据
2. **实时预览**：编辑节点参数后立即生效
3. **条件执行**：带有条件的连接线只有在条件满足时才会执行
4. **错误处理**：执行时会根据节点类型进行相应的参数验证
